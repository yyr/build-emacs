#!/bin/bash
#
# Copyright (C) Yagnesh Raghava Yakkala. http://yagnesh.org
#    File: buildemacs
# Created: Tuesday, March 22 2011
# Licence: GPL v3 or later
#

MIRROR="git://repo.or.cz/emacs.git" # Use mirror instead of GNU server
SCRIPT_DIR=$(cd `dirname $BASH_SOURCE`; pwd)
cd $SCRIPT_DIR

. ./be-functions

# Clone emacs repo if it is not already present
if [ ! -d emacs ]; then
    git clone $MIRROR
fi
cd emacs

git_tag=""

while [[ $# -gt 0 ]]; do

    case $1 in
         head|HEAD )             # last commit (rev)
            build_emacs_git_head
            ;;

        -t|--tag )              # latest tag (i.e, release)
            git_tag="$git_tag $2"
            shift
            build_emacs_from_tag $git_tag
            ;;

        *)
            echo "Unknown Argument!!"
            break;;
    esac
    shift

done



# buildemacs ends here
